# DDD
В терминах паттерна *DDD* опишем систему “Собеседница”. 
Реальный ШАДовский проект, призванный обеспечить удобный механизм взаимодействия 
между интервьюером и студентов Яндекс.Образования. 
Подробное описание концепции и требований можно найти [здесь](https://docs.google.com/document/d/1p0lhc1GqvP_zA_y3MP1UXlS3f8mnrTkkvI0Ie8yvv98/edit?tab=t.0).


---

## Область проблемы

Область проблемы связана с организацией и проведением онлайн-собеседований (интервью): от планирования времени до оценки кандидатов. 
Цель — обеспечить удобный процесс для пользователей: интервьюеров, студентов* и менеджеров образовательных организаций.

```
* Студент, то есть собеседуемый, не фигурирует явно в системе, он в ручном режиме назначается свободному 
релевантному интервьюеру, поэтому никак не отображен в доменах.
```

**Основные аспекты**:
- Регистрация интервьюера.
- Отбор интервьеюров менеджером.
- Бронирование времени для собеседований.
- Назначение собеседований менеджером.
- Проведение видеособеседований с дополнительными функциями (запись, заметки, экран).
- Оценка и фиксация результатов собеседования.
- Интеграция с календарями и почтой (Yandex, Google, Outlook и т.д.).
- Уведомления и нотификации.

---

### Subdomains

1. **Core Subdomain** (Основной поддомен):
   - **Интерфейс интервьюера**:
     - Включает ключевую бизнес-логику: регистрация интервьюера в систему,
       выбор приемлемого времени для проведения собеседований, последующая оценка кандидатов. 
     - По сути, личный кабинет интервьюера со всей необходимой функциональностью.  
       _Это ключевой домен, что делает глобальный домен уникальным._
   - **Интерфейс менеджера**:
     - Включает ключевую бизнес-логику: отбор интервьюеров, назначение собеседований.
     - По сути, личный кабинет менеджера со всей необходимой функциональностью.  
       _Это ключевой домен, что делает глобальный домен уникальным._

     
2. **Supporting Subdomains** (Вспомогательные поддомены):
   - **Интеграция с календарями**:
     - Назначение собеседований интервьюерам в выбранными ими временные диапазоны.  
    _Это ценно для общего домена._
   - **Видеочат**:
     - Видеосвязь, запись беседы, демонстрация экрана.  
     _Это ценно для общего домена._


3. **Generic Subdomains** (Универсальные поддомены):
   - **Идентификация пользователей (User Management)**:
     - Регистрация, аутентификация, управление профилем пользователя.  
       _Неуникальное для домена, но необходимое для его работы в целом._
   - **Уведомления (Notifications)**:
     - Email и SMS-уведомления о предстоящих собеседованиях.  
       _Неуникальное для домена, но необходимое для его работы в целом._

---

### **3. Область решения (Bounded Contexts)**

На основе поддоменов определим **Bounded Contexts** (ограниченные контексты), в которых будет реализована бизнес-логика. Каждый контекст связан с одним или несколькими поддоменами.

#### Bounded Contexts:

1. **Interviewer Context**:
   - Реализует всю логику, связанную с деятельностью интервьюера.
   - Включает:
     - ЛК интервьюера:
       - Сохранение вопросов для интервью.
       - Ведение заметок.
       - Оценка

2.**Manager Context**:
   - Реализует всю логику, связанную с деятельностью менеджера.
   - Включает:
     - ЛК менеджера:
       - Отбор интервьюеров
       - Назначение собеседований

3.**Calendar Integration Context**:
   - Реализует синхронизацию с внешними календарями интервьюера.

4.**Video Context**:
   - Реализует интеграцию с внешними системами для проведения собеседований в видео-формате.

5.**User Management Context**:
   - Отвечает за регистрацию, аутентификацию и управление профилями пользователей.

6.**Notifications Context**:
   - Реализует отправку уведомлений (email, SMS).


### Concept Map
Показывает взаимосвязь контекстов BC и объясняет выбранные паттерны интеграции между ними.  

---

#### **Bounded Contexts и их связь**

1. **Interviewer Context ↔ Manager Context**  
   - **Паттерн**: **Shared Kernel**  
   - **Обоснование**:  
     Эти два контекста имеют общую бизнес-логику, связанную с собеседованиями (например, доступные слоты, информация о собеседовании и статус). 
     Кроме того, оба BC имплементируют функциональность ЛК в одной доменной зоне.
     Чтобы минимизировать дублирование и обеспечить консистентность, используется общий набор данных и моделей. При этом команды разработки этих контекстов должны тесно сотрудничать.

---

2. **Interviewer Context ↔ Calendar Integration Context**  
   - **Паттерн**: **Conformist**  
   - **Обоснование**:  
     Calendar Integration предоставляет интерфейс для работы с внешними системами (Google, Yandex, Outlook). 
     Interviewer Context использует этот интерфейс как есть, без изменения. 

---

3. **Manager Context ↔ Calendar Integration Context**  
   - **Паттерн**: **Conformist**  
   - **Обоснование**:  
     Как и в случае с Interviewer Context, Manager Context полагается на API Calendar Integration и адаптируется под его возможности. 
     Это позволяет менеджерам назначать собеседования, используя доступные слоты, предоставляемые Calendar Integration.

---

4. **Interviewer Context ↔ Video Context**  
   - **Паттерн**: **Conformist**  
   - **Обоснование**:  
     Video Context предоставляет готовую функциональность видеосвязи, записи и демонстрации экрана. 
     Interviewer Context использует это без модификации, принимая предоставленный API/SDK. 
---

5. **Manager Context ↔ Video Context**  
   - **Паттерн**: **Conformist**  
   - **Обоснование**:  
     Аналогично Interviewer Context
---

6. **User Management Context ↔ Все остальные контексты**  
   - **Паттерн**: **Separate Ways**  
   - **Обоснование**:  
     User Management Context автономен и предоставляет базовые функции аутентификации и управления профилем пользователя. 
     Остальные контексты взаимодействуют с ним через стандартные механизмы (например, токены или API).
---

7. **Notifications Context ↔ Все остальные контексты**  
   - **Паттерн**: **Separate Ways**  
   - **Обоснование**:  
     Notifications Context изолирован и предоставляет API для отправки уведомлений. Остальные контексты передают ему данные для отправки уведомлений. 

---
